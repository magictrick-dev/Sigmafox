------------------------------------------------------------
         Parser to Transpilation Print Results
------------------------------------------------------------
.\tests\parse_test.fox(81,22) WARNING: Variable declaration shadows outer scope declaration.
#include <iostream>
#include <sigmafox/core.h>

int
main(int argc, char ** argv)
{

    /* Testing standard variable declaration. */
    sigmafox::dynamic<4> test_variable();

    /* Testing array variable declaration. */
    sigmafox::dynamic<4, 32> foo();
    sigmafox::dynamic<4, 32, 16> bar();
    sigmafox::dynamic<4, 32, 16, 8> baz();
    sigmafox::dynamic<4, 32, 16, 8, 4> bax();

    /* Testing variable assignment. */
    sigmafox::dynamic<4> number_a();
    sigmafox::dynamic<4> number_b();
    sigmafox::dynamic<4> number_c();
    number_a = 3;
    number_b = 7;
    number_c = number_a + number_b;

    /* Testing variable scopes. */
    {

        /* Inner scope only. */
        sigmafox::dynamic<4> inner_scope_a();
        sigmafox::dynamic<4> inner_scope_b();
        sigmafox::dynamic<4> inner_scope_sum();
        inner_scope_sum = inner_scope_a + inner_scope_b;

        /* Outer scope usage with inner scope useage. */
        sigmafox::dynamic<4> outer_inner_sum();
        outer_inner_sum = number_a + inner_scope_a;

        /* Overwriting outer scope. */

        /* Commented out. */

        /* variable number_b 4; */

        /* number_b := 10; */
    }

    /* Now testing loop syntax. */
    sigmafox::dynamic<4> loop_start();
    sigmafox::dynamic<4> loop_end();
    loop_start = 0;
    loop_end = 10;

    /* NOTE(Chris): The bracketing is not required. */
    while (loop_start < loop_end)
    {

        /* Print or do something here. */
        sigmafox::dynamic<4> foobar();
        foobar = loop_start * 2;
        loop_start = loop_start + 1;
    }

    /* Various loop tests. */
    for (sigmafox::dynamic<4> index = 0; index < 10; index += 1)
    {
        sigmafox::dynamic<4> __loop_index_cache = index;
        sigmafox::dynamic<4> foobar();
        foobar = index * 2;
        index = __loop_index_cache;
    }

    /* Speaking the magical incantation to invoke weird loop behavior. */
    for (sigmafox::dynamic<4> index = 0; index < 10; index += ( 4 / 2 ))
    {
        sigmafox::dynamic<4> __loop_index_cache = index;
        sigmafox::dynamic<4> foobar();
        foobar = index * ( 3 * 1 * 2 );
        index = __loop_index_cache;
    }

    /* Testing error conditions. */

    /* Commented out. */

    /* inner_scope_a := 20; */

    /* Conditionals, if and elseif. */
    if (loop_start < loop_end)
    {
        loop_start = loop_end;
        sigmafox::dynamic<4> foobar();
        foobar = loop_end * ( ( 16 / 2 ) / 2 );
    }
    else if (loop_start > loop_end)
    {
        loop_start = loop_end;
        sigmafox::dynamic<4> foobar();
        foobar = loop_end + 4 * ( 16 / 4 / 2 );
    }

    /* Finally, procedures. */
    void add_numbers(sigmafox::dynamic<4> &a, sigmafox::dynamic<4> &b, sigmafox::dynamic<4> &out)
    {
        sigmafox::dynamic<4> result();
        result = a + b;
        out = result;
    }

    /* This is a comment. */
}

------------------------------------------------------------
                Malloc/Free Statistics
------------------------------------------------------------
    Total memory allocated  :   53467 bytes.
    Total memory released   :   52436 bytes.
    Peak memory allocated   :   52436 bytes.
    Current memory used     :   1031 bytes.
    Calls to malloc()       :   123.
    Calls to free()         :   82.
